{
"version":3,
"file":"module$node_modules$$mui$x_date_pickers$node$internals$hooks$usePicker$usePickerViews.js",
"lineCount":73,
"mappings":"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",
"sources":["node_modules/@mui/x-date-pickers/node/internals/hooks/usePicker/usePickerViews.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$mui$x_date_pickers$node$internals$hooks$usePicker$usePickerViews\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.usePickerViews = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _useEnhancedEffect = _interopRequireDefault(require(\"@mui/utils/useEnhancedEffect\"));\nvar _useEventCallback = _interopRequireDefault(require(\"@mui/utils/useEventCallback\"));\nvar _useViews = require(\"../useViews\");\nvar _timeUtils = require(\"../../utils/time-utils\");\nconst _excluded = [\"className\", \"sx\"];\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && Object.prototype.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n/**\n * Props used to handle the views that are common to all pickers.\n */\n\n/**\n * Props used to handle the views of the pickers.\n */\n\n/**\n * Props used to handle the value of the pickers.\n */\n\n/**\n * Manage the views of all the pickers:\n * - Handles the view switch\n * - Handles the switch between UI views and field views\n * - Handles the focus management when switching views\n */\nconst usePickerViews = ({\n  props,\n  propsFromPickerValue,\n  additionalViewProps,\n  autoFocusView,\n  rendererInterceptor,\n  fieldRef\n}) => {\n  const {\n    onChange,\n    open,\n    onClose\n  } = propsFromPickerValue;\n  const {\n    views,\n    openTo,\n    onViewChange,\n    disableOpenPicker,\n    viewRenderers,\n    timezone\n  } = props;\n  const propsToForwardToView = (0, _objectWithoutPropertiesLoose2.default)(props, _excluded);\n  const {\n    view,\n    setView,\n    defaultView,\n    focusedView,\n    setFocusedView,\n    setValueAndGoToNextView\n  } = (0, _useViews.useViews)({\n    view: undefined,\n    views,\n    openTo,\n    onChange,\n    onViewChange,\n    autoFocus: autoFocusView\n  });\n  const {\n    hasUIView,\n    viewModeLookup\n  } = React.useMemo(() => views.reduce((acc, viewForReduce) => {\n    let viewMode;\n    if (disableOpenPicker) {\n      viewMode = 'field';\n    } else if (viewRenderers[viewForReduce] != null) {\n      viewMode = 'UI';\n    } else {\n      viewMode = 'field';\n    }\n    acc.viewModeLookup[viewForReduce] = viewMode;\n    if (viewMode === 'UI') {\n      acc.hasUIView = true;\n    }\n    return acc;\n  }, {\n    hasUIView: false,\n    viewModeLookup: {}\n  }), [disableOpenPicker, viewRenderers, views]);\n  const timeViewsCount = React.useMemo(() => views.reduce((acc, viewForReduce) => {\n    if (viewRenderers[viewForReduce] != null && (0, _timeUtils.isTimeView)(viewForReduce)) {\n      return acc + 1;\n    }\n    return acc;\n  }, 0), [viewRenderers, views]);\n  const currentViewMode = viewModeLookup[view];\n  const shouldRestoreFocus = (0, _useEventCallback.default)(() => currentViewMode === 'UI');\n  const [popperView, setPopperView] = React.useState(currentViewMode === 'UI' ? view : null);\n  if (popperView !== view && viewModeLookup[view] === 'UI') {\n    setPopperView(view);\n  }\n  (0, _useEnhancedEffect.default)(() => {\n    // Handle case of `DateTimePicker` without time renderers\n    if (currentViewMode === 'field' && open) {\n      onClose();\n      setTimeout(() => {\n        // focusing the input before the range selection is done\n        // calling it outside of timeout results in an inconsistent behavior between Safari And Chrome\n        fieldRef?.current?.focusField(view);\n      });\n    }\n  }, [view]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  (0, _useEnhancedEffect.default)(() => {\n    if (!open) {\n      return;\n    }\n    let newView = view;\n\n    // If the current view is a field view, go to the last popper view\n    if (currentViewMode === 'field' && popperView != null) {\n      newView = popperView;\n    }\n\n    // If the current view is not the default view and both are UI views\n    if (newView !== defaultView && viewModeLookup[newView] === 'UI' && viewModeLookup[defaultView] === 'UI') {\n      newView = defaultView;\n    }\n    if (newView !== view) {\n      setView(newView);\n    }\n    setFocusedView(newView, true);\n  }, [open]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const layoutProps = {\n    views,\n    view: popperView,\n    onViewChange: setView\n  };\n  return {\n    hasUIView,\n    shouldRestoreFocus,\n    layoutProps,\n    renderCurrentView: () => {\n      if (popperView == null) {\n        return null;\n      }\n      const renderer = viewRenderers[popperView];\n      if (renderer == null) {\n        return null;\n      }\n      const rendererProps = (0, _extends2.default)({}, propsToForwardToView, additionalViewProps, propsFromPickerValue, {\n        views,\n        timezone,\n        onChange: setValueAndGoToNextView,\n        view: popperView,\n        onViewChange: setView,\n        focusedView,\n        onFocusedViewChange: setFocusedView,\n        showViewSwitcher: timeViewsCount > 1,\n        timeViewsCount\n      });\n      if (rendererInterceptor) {\n        return rendererInterceptor(viewRenderers, popperView, rendererProps);\n      }\n      return renderer(rendererProps);\n    }\n  };\n};\nexports.usePickerViews = usePickerViews;\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","e","WeakMap","r","t","_interopRequireDefault","Object","defineProperty","value","usePickerViews","_extends2","_objectWithoutPropertiesLoose2","React","_interopRequireWildcard","__esModule","default","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_useEnhancedEffect","_useEventCallback","_useViews","_timeUtils","_excluded","props","propsFromPickerValue","additionalViewProps","autoFocusView","rendererInterceptor","fieldRef","onChange","open","onClose","views","openTo","onViewChange","disableOpenPicker","viewRenderers","timezone","propsToForwardToView","view","setView","defaultView","focusedView","setFocusedView","setValueAndGoToNextView","useViews","undefined","autoFocus","hasUIView","viewModeLookup","useMemo","reduce","acc","viewForReduce","viewMode","timeViewsCount","isTimeView","currentViewMode","shouldRestoreFocus","popperView","setPopperView","useState","setTimeout","current","focusField","newView","layoutProps","renderCurrentView","renderer","rendererProps","onFocusedViewChange","showViewSwitcher"]
}
